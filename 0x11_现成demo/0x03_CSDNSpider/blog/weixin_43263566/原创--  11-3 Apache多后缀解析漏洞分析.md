# 原创
：  11-3 Apache多后缀解析漏洞分析

# 11-3 Apache多后缀解析漏洞分析

#### 漏洞介绍

该漏洞与用户的配置有密切的关系，严格来说属于用户配置问题。Apache文件解析漏洞涉及到 Apache 解析文件的特性。在默认情况下，Apache 允许一个文件具有多个以点分割的后缀，在处理文件时会从右向左识别后缀名。(就是右边的后缀名无法识别，则继续识别左边的)

如果运维人员给具有 .php 后缀的文件添加了处理程序 AddHandler application/x-httpd-php .php，那么在文件具有多个后缀的情况下，只要文件含有 .php 后缀，该文件就会被识别为 PHP 文件并进行解析。

具体来说，攻击者可以通过构造一个类似于`file.php.jpg`这样的文件名，将其上传到服务器上。由于Apache默认情况下允许文件具有多个扩展名，因此服务器会将其识别为PHP文件并进行解析。这意味着攻击者可以在`file.php.jpg`文件中嵌入恶意代码，并通过访问该文件来执行该代码。

该漏洞的危害性非常高，因为攻击者可以完全控制被执行的代码，并可能使用该代码来窃取敏感信息、破坏服务器或其他不良行为。

#### 漏洞复现

我这里自己搭建一个简单的靶场，网站也有搭建好的可以自己去安装到本地，不过太麻烦了。

** 配置一下Apache与php**

1.  安装 Apache： 使用以下命令安装 Apache： <pre>`sudo yum -y install httpd*`</pre> 
1.  启动 Apache： 使用以下命令启动 Apache 服务： <pre>`sudo systemctl start httpd`</pre> &lt;
