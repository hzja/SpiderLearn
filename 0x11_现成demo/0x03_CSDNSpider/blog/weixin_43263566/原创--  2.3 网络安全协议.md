# 原创
：  2.3 网络安全协议

# 2.3 网络安全协议

数据参考：[CISP官方 ](https://www.cisp.cn/page/1801337)

#### 目录

## 一、[OSI七层模型](https://blog.csdn.net/weixin_43263566/article/details/127831584)

#### 简介

        开放系统互连模型（Open System Interconnection Reference Model，OSI）是国际标准化组织（ISO）于1977年发布的一个标准参考模型，用于描述计算机系统和网络之间进行通信的基本过程和方法。于1983年成为ISO 7498国际标准。

#### OSI模型将网络通信分为七个不同的层级，每个层级都负责特定的功能。这些层级从底层到高层分别是：
1.  物理层（Physical Layer）：负责定义物理介质和电信号传输规范，处理物理连接及数据传输的基本操作。 1.  数据链路层（Data Link Layer）：负责将物理层传输的数据分割成数据帧，进行错误检测和纠正，并对数据帧进行访问控制。 1.  网络层（Network Layer）：负责实现数据在网络中的寻址和路由，通过选择合适的路径来传输数据。 1.  传输层（Transport Layer）：提供端到端的数据传输，可靠地传输数据，并在必要时进行数据分割和重组。 1.  会话层（Session Layer）：提供通信双方之间建立、管理和终止会话的能力。它还负责建立检查点以恢复中断的会话。 1.  表示层（Presentation Layer）：负责数据的格式化和表示，以确保不同计算机系统之间的数据能够正确解释和理解。 1.  应用层（Application Layer）：最接近用户的层级，提供各种应用程序的接口和服务，例如电子邮件、文件传输协议等。 
通过将通信过程分解为不同层级，OSI模型使不同计算机系统能够进行互操作性，并促进了网络通信的标准化和发展。

值得注意的是，虽然OSI模型是一个重要的参考模型，但实际上，许多计算机网络通信协议并未严格遵循OSI模型的七层结构，而是将某些层级进行合并或重叠。

**模型定义了网络中不同计算机系统进行通信的基本过程和方法**

#### 底层协议

#### 高层协议

|层级|名称|功能|常用协议
|------
|1|物理层|在物理媒介上传输比特流，如电缆、光纤等。|Ethernet, Wi-Fi, USB
|2|数据链路层|管理数据在节点之间的传输，检错纠错。|Ethernet, PPP, HDLC
|3|网络层|控制数据包在网络中的寻址和路由。|IP, ICMP, OSPF
|4|传输层|提供端到端的可靠数据传输和错误恢复。|TCP, UDP, SCTP
|5|会话层|管理通信会话的建立、维护和终止。|SIP, NFS, NetBIOS
|6|表示层|数据格式化、加密和压缩，确保不同系统间的数据交换的正确性。|JPEG, ASCII, SSL
|7|应用层|提供各种网络服务（接口），如电子邮件、文件传输、远程登录等。|HTTP, FTP, DNS

#### 分层结构的优点

**数据封装与分用 (解封装) **

## 二、TCP/IP体系架构

#### 简介

        TCP/IP是目前互联网中最基本的协议，也是互联网构成的基础协议。TCP/IP最早源于美国国防部的ARPA网项目 (一个军用通信网络)，经过多年的发展，其中的非涉密部分发展成今天的互联网。通常谈到TCP/IP指的是以TCP (传输控制协议) 和IP (网际协议) 为核心构成的协议族，是一组在不同层次上工作的多个协议的组合，通过TCP/IP，不同的信息处理设备可以相互传递数据。

TCP/IP体系架构包括链路层、网络层、传输层、应用层四层，每一层负责不同的功能
1.  链路层（网络接口层）：负责将数据转换为比特流进行物理传输。它定义了如何访问物理网络，并处理与物理介质相关的传输细节。常见的协议包括Ethernet、Wi-Fi等。 1.  网络层：负责在网络中寻址和路由数据包。最重要的协议是IP（网际协议），它定义了互联网上的唯一地址系统，用于标识和定位设备。 1.  传输层：提供端到端的可靠数据传输和错误恢复。最常用的传输协议是TCP（传输控制协议），它提供可靠的数据传输和流量控制。另外还有UDP（用户数据报协议），它提供无连接的数据传输，适用于实时应用或不需要可靠性的应用。 1.  应用层：提供各种网络服务和协议，使应用程序能够访问网络。它包括诸如HTTP（超文本传输协议）、FTP（文件传输协议）、SMTP（简单邮件传输协议）等协议，用于实现电子邮件、文件传输、网页浏览等功能。 
#### TCP/IP协议族分层结构

#### 链路层安全风险

##### 安全问题

#### 网络层安全风险

##### 安全问题

###### 电子欺骗攻击

###### 拒绝服务攻击

#### 传输层安全风险

##### 安全问题

###### TCP

###### UDP

提供面向连接的、可靠的字节流服务

#### 提供可靠性服务

<img alt="" height="207" src="https://img-blog.csdnimg.cn/198a299be5c445d685e29cf312bc7955.png" width="641"/> 

#### TCP三次握手

#### TCP四次挥手

#### 为什么建立连接是三次握手,关闭连接确是四次挥手呢?

建立连接的时候，服务器在LISTEN状态下，收到建立连接请求的SYN报文后，把ACK和SYN放在一个报文里发送给客户端。

而关闭连接时，服务器收到对方的FIN报文时，仅仅表示对方不再发送数据了但是还能接收数据，而自己也未必全部数据都发送给对方了，所以己方可以立即关闭，也可以发送一些数据给对方后，再发送FIN报文给对方来表示同意现在关闭连接，因此，己方ACK和FIN一般都会分开发送，从而导致多了一次。

#### UDP协议提供面向事务的简单不可靠信息传送服务

##### 特点

<img alt="" height="172" src="https://img-blog.csdnimg.cn/19bd54c670d84a9ca80cbc788656d1a6.png" width="648"/> 

#### TCP和UDP协议对比：

#### 应用层安全风险

##### 安全问题

 TCP/IP协议族安全性问题随着互联网的发展日益突出，相关组织和专家也对协议进行不断的改善和发展，为不同层次设计了相应的安全通信协议，用于对不同层次的通信进行安全保护，从而形成了由各层次安全通信协议构成的TCP/IP协议族安全架构。

<img alt="" height="448" src="https://img-blog.csdnimg.cn/28eef8c1033d4c01b248cb733f634383.png" width="671"/> 

#### 网络接口层

#### 互联网络层

#### 传输层

#### 应用层

## 三、TCP/IP安全架构

#### IPSec 

IPSec（互联网协议安全）是由IETF（互联网工程任务组）制定的一组开放的网络安全协议。它并不是一个单独的协议，而是一系列为IP网络提供安全性的协议和服务的集合。

IPSec用于解决IP层上的安全性问题，并同时支持IPv4和IPv6网络。IPSec协议工作在IP层，提供多项安全服务，包括：

IPSec协议通过认证头协议（Authentication Header，AH）为IP数据报提供无连接的完整性和数据源认证，并提供防止重放攻击的保护。一旦建立安全连接，AH会尽可能地为IP头和上层协议数据提供足够的认证。

IPSec协议还通过封装安全载荷协议（Encapsulating Security Payload，ESP）对需要保护的数据进行加密，为这些数据提供保密性和完整性保护能力。ESP协议和AH协议可以单独使用，也可以同时使用，相互结合起来提供更强的安全性能。

#### SSL 

#### TLS 

TLS (传输层安全性协议) 是在SSL v3.0的基础上进行增强和修改后形成的安全通信协议，可以认为是SSL的后续版本，与SSL协议的差异非常微小，仅仅是在一些细节上有区别。TLS通过协商和认证，创建安全会话通道，任何应用层协议的数据在通过TLS协议进行传送时都受到保护。TLS协议的优势是与高层的应用层协议如HTTP、FTP、 Telnet等) 完全兼容，应用层协议能透明地运行在TLS协议之上，目前web访问使用的https协议，大多使用的HTTP协议和TLS1.2协议。 

<img alt="" height="274" src="https://img-blog.csdnimg.cn/89dcb9a06d7e499ba31b5e9990a34525.png" width="531"/> 

 
