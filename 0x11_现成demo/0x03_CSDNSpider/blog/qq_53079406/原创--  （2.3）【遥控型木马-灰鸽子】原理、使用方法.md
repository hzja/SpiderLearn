# 原创
：  （2.3）【遥控型木马-灰鸽子】原理、使用方法

# （2.3）【遥控型木马-灰鸽子】原理、使用方法

**目录**

[一、简介](#%E4%B8%80%E3%80%81%E7%AE%80%E4%BB%8B)

[概述：](#%E6%A6%82%E8%BF%B0%EF%BC%9A)

[机理](#%E7%97%85%E6%AF%92%E6%9C%BA%E7%90%86)

[构成](#%E7%97%85%E6%AF%92%E6%9E%84%E6%88%90)

[运行过程](#%E8%BF%90%E8%A1%8C%E8%BF%87%E7%A8%8B)

[二、使用方法](#%E4%BA%8C%E3%80%81%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95)

[第一步：安装管理端](#%E7%AC%AC%E4%B8%80%E6%AD%A5%EF%BC%9A%E5%AE%89%E8%A3%85%E7%AE%A1%E7%90%86%E7%AB%AF)

[第二步：注册+登录](#%E7%AC%AC%E4%BA%8C%E6%AD%A5%EF%BC%9A%E6%B3%A8%E5%86%8C%2B%E7%99%BB%E5%BD%95)

[第三步：生成服务端](#%E7%AC%AC%E4%B8%89%E6%AD%A5%EF%BC%9A%E7%94%9F%E6%88%90%E5%91%98%E5%B7%A5%E7%AB%AF)

[第四步：kunbang文件](#%E7%AC%AC%E5%9B%9B%E6%AD%A5%EF%BC%9A%E6%8D%86%E7%BB%91%E6%96%87%E4%BB%B6)

[第五步：发送](#%E7%AC%AC%E4%BA%94%E6%AD%A5%EF%BC%9A%E5%8F%91%E9%80%81)

[第六步：执行相应的功能](#%E7%AC%AC%E5%85%AD%E6%AD%A5%EF%BC%9A%E6%89%A7%E8%A1%8C%E7%9B%B8%E5%BA%94%E7%9A%84%E5%8A%9F%E8%83%BD)

---


## 一、简介

> 
<h3>概述：</h3>
原本该软件适用于公司和家庭管理，其功能十分强大，不但能监视、键盘记录、监控桌面、文件操作等。还可以运行后自动删除、毫无提示安装等，因早年采用反弹链接这种缺陷设计，使得使用者拥有最高权限，一经破解即无法控制。最终导致被恶意使用。原作者的灰鸽子被误认为是一款集多种控制方式于一体的木马程序。


> 
<h3>机理</h3>
<h4>构成</h4>
生成的服务端文件文件名为G_Server.exe（这是默认的，当然也可以改变）
然后利用一切办法使用户运行G_Server.exe程序（大多数是kun bang）
<hr/>
<h4>运行过程</h4>
G_Server.exe运行后将自己拷贝到Windows目录下(98/xp下为系统盘的windows目录，2k/NT下为系统盘的Winnt目录)，然后再从体内释放G_Server.dll和G_Server_Hook.dll到windows目录下。G_Server.exe、G_Server.dll和G_Server_Hook.dll三个文件相互配合组成了灰鸽子服务端， G_Server_Hook.dll负责隐藏灰鸽子。通过截获进程的API调用隐藏灰鸽子的文件、服务的注册表项，甚至是进程中的模块名。截获的函数主要是用来遍历文件、遍历注册表项和遍历进程模块的一些函数。所以，有些时候用户感觉中了毒，但仔细检查却又发现不了什么异常。有些灰鸽子会多释放出一个名为G_ServerKey.dll的文件用来记录键盘操作。注意，G_Server.exe这个名称并不固定，它是可以定制的，比如当定制服务端文件名为A.exe时，生成的文件就是A.exe、A.dll和A_Hook.dll。
<hr/>
Windows目录下的G_Server.exe文件将自己注册成服务（9X系统写注册表启动项），每次开机都能自动运行，运行后启动G_Server.dll和G_Server_Hook.dll并自动退出。G_Server.dll文件实现后门功能，与控制端客户端进行通信；G_Server_Hook.dll则通过拦截API调用来隐藏木马。因此，中马后，我们看不到木马文件，也看不到木马注册的服务项。随着灰鸽子服务端文件的设置不同，G_Server_Hook.dll有时候附在Explorer.exe的进程空间中，有时候则是附在所有进程中



#### 运行过程

---


.

---


---


## 二、使用方法

> 
<h3>第一步：安装管理端</h3>




> 
<h3>第二步：注册+登录</h3>





> 
<h3>第三步：生成服务端</h3>





> 
<h3>第四步：kunbang文件</h3>
使用exekbj将exe文件与正常程序kb在一起



> 
<h3>第五步：发送</h3>
1．放到网页中
2．邮件发送
3. 聊天工具发送
4. 软件


> 
<h3>第六步：执行相应的功能</h3>
截图、键盘记录、监控桌面、文件操作等


