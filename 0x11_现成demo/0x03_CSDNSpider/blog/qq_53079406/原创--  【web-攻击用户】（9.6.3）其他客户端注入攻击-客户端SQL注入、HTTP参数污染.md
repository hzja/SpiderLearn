# 原创
：  【web-攻击用户】（9.6.3）其他客户端注入攻击：客户端SQL注入、HTTP参数污染

# 【web-攻击用户】（9.6.3）其他客户端注入攻击：客户端SQL注入、HTTP参数污染

**目录**

[一、客户端SQL注入](#%E4%B8%80%E3%80%81%E5%AE%A2%E6%88%B7%E7%AB%AFSQL%E6%B3%A8%E5%85%A5)

[1.1、简述：](#1.1%E3%80%81%E7%AE%80%E4%BB%8B%EF%BC%9A)

[二、客户端HTTP参数污染](#%E4%BA%8C%E3%80%81%E5%AE%A2%E6%88%B7%E7%AB%AFHTTP%E5%8F%82%E6%95%B0%E6%B1%A1%E6%9F%93)

[2.1、简述：](#2.1%E3%80%81%E7%AE%80%E4%BB%8B%EF%BC%9A)

---


## 一、客户端SQL注入

> 
<h3>1.1、简述：</h3>
HTML5支持客户端SQL数据库，应用程序可使用该数据库在客户端存储数据。这些数据库使用JavaScript访问
<hr/>
应用程序可以使用此功能将常用数据存储到客户端，然后在需要时将这些数据快速检索到用户界面中。它还允许应用程序以离线模式运行，在这种模式下，所有由应用程序处理的数据将驻留在客户端，用户操作也存储在客户端，以便在网络连接可用时与服务器进行同步。
<hr/>
一般用的是在服务器端SQL数据库中实施SQL注入攻击，在这种攻击中， 攻击者将受其控制的数据以危险的方式插入SQL在询中。实际上在客户端也可能发生此类攻击。
可能受到这种攻击的应用程序：
1、社交网络应用程序，这类应用程序将用户的联系人信息存储在本地数据库中，包括联系人姓名和状态更新
2、新闻应用程序，这类应用程序将文章和用户评论存储在本地数据库中，以便于离线查看
3、Web邮件应用程序，这类应用程序将电子邮件存储在本地数据库中，在离线模式下运行时，则存储待发邮件以便于稍后发送
<hr/>
在这些情况下，攻击者可以将专门设计的输入包含在受其控制的一组数据中（应用程序在本地存储这些数据），从而实施客户端SQL注入攻击。例如通过发送一封电子邮件，并在主题行中包含SQL注入攻击代码（如果这些数据嵌入在客户端SQL查询中），就可以攻破收件人用户的本地数据库。如果应用程序以危险的方式使用本地数据库，就可能导致严重的攻击，仅仅使用SQL注入，攻击者就可以从数据库中检索用户已收到的其他邮件的内容，将这些数据复制到发送给攻击者的待发电子邮件，然后将该电子邮件添加到已排队的待发邮件表中。
<hr/>
通常存储在本地数据库中的数据类型可能为SQL元字符，如单引号。因此在正常使用测试期间即可确定许多SQL注入漏洞，从而实施针对SQL注入攻击的防御机制，和服务器端注入一样，这些防御机制也可以通过各种方法规避，从而实施成功的攻击。


---


---


---


---


## 二、客户端HTTP参数污染

> 
<h3>2.1、简述：</h3>
1、一般使用HTTP参数污染攻击来破坏服务器端应用程序逻辑。有时这些攻击也可以在客户端实施。
2、在收件箱中，每封邮件旁显示了几个链接，可用于执行删除、转发和回复等操作这些链接中的一些参数将被复制到收件箱URL中，即使应用程序能够有效防范XSS攻击，但攻击者仍然可以构建一个URL，使用在这些链接中回显的其他值来显示收件箱
参数中可能包含URL编码的&amp;字符，应用程序服务器将自动对该字符进行解码
3、此链接包含两个操作参数（action）一个指定delete,一个指定reply, 和标准的HTTP参数污染一样， 在用户单击回复链接时，应用程序的行为取决于它如何处理重复的参数。许多时候， 应用程序使用第一个值， 因此用户将在不知情的情况下删除任何其尝试回复的邮件

4、用于执行操作的链接包含一个rnd参数，它实际上是一个反CSRF令牌，以防止攻击者通过标准的CSRF攻击轻松诱发这些操作，由于客户端HPP攻击会注入由应用程序构建的现有链接， 因此该反CSRF令牌将以正常方式进行处理，因而无法阻止攻击。
5、在现实中的大多数Web邮件应用程序中，很可能存在更多可供利用的操作，包括删除所有邮件、转发单个邮件，以及创建通用的邮件转发规则，根据这些操作的实施方式，攻击者就可以在链接中注入若干所需的参数，甚至利用本站重定向功能，以诱使用户执行正常情况下受反CSRF防御保护的复杂操作。此外攻击者还可以使用多级URL编码，在一个URL中注入几个攻击。在这种情况下， 当用户尝试阅读邮件时，将执行一个操作，而当用户尝试返回收件箱时， 则会执行另一个操作。

